var app=new Vue({el:"#main",delimiters:["[[","]]"],data:function(){return{email:"",passwd:"",passwd2:""}},methods:{submit:function(){var s=this;if(""==this.email)return void eventHub.$emit("displayError","email is required");axios.post("/ajsendresetpasswordemail",{email:this.email}).then(function(e){e.data.Ok?(s.email="",eventHub.$emit("displaySuccess","A mail with a link to reset your password has been sent to "+s.email+". Check your mailbox.")):eventHub.$emit("displayError",e.data.Msg)}).catch(function(s){console.log(s),eventHub.$emit("displayError","Ooops something wrong happened :(")})},submit2:function(s){var e=this;return""==this.passwd||""==this.passwd2?void eventHub.$emit("displayError","you must enter en new password and repeat it in the second form"):this.passwd!=this.passwd2?void eventHub.$emit("displayError","passwords mismatch"):void axios.post("/ajresetpassword",{uuid:s,passwd:this.passwd}).then(function(s){s.data.Ok?(e.passwd="",e.passwd2="",eventHub.$emit("displaySuccess","Your password has been updated")):eventHub.$emit("displayError",s.data.Msg)}).catch(function(s){console.log(s),eventHub.$emit("displayError","Ooops something wrong happened :(")})}}});