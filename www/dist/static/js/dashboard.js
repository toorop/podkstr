Vue.filter("maxlenght",function(o){return o.substring(0,33)});var compShowThumbail={delimiters:["[[","]]"],props:["show"],template:'<div class="col-sm-6 col-md-3" @click="workinprogress"><div class="thumbnail show-box"><img :src="show.ItunesImage" alt="..."><div class="caption"><div class="text-center"><h3>[[ show.Title | maxlenght ]]</h3></div><p>Status: OK<br> Last sync: 05/05/2017 19:23:55</p></div></div></div>',methods:{workinprogress:function(){console.log("CLICKED"),eventHub.$emit("displaySuccess","Work in progress... ;)")}}},app=new Vue({el:"#main",delimiters:["[[","]]"],components:{"show-thumbail":compShowThumbail},data:function(){return{feedURL:"",shows:{}}},created:function(){var o=this;axios.get("/aj/user/shows").then(function(e){console.log(e),e.data.Ok?o.shows=e.data.Shows:eventHub.$emit("displayError",e.data.Msg)}).catch(function(o){eventHub.$emit("displayError","Ooops something wrong happened :(")})},methods:{importShow:function(){""==this.feedURL&&(console.log("emit"),eventHub.$emit("displayError","You must specified a feed URL"));var o=this;axios.post("/ajimportshow",{feedURL:o.feedURL}).then(function(e){e.data.Ok?(console.log(e.data.Show),console.log(o.shows),o.shows.unshift(e.data.Show)):eventHub.$emit("displayError",e.data.Msg)}).catch(function(o){eventHub.$emit("displayError","Ooops something wrong happened :(")})}}});