Vue.filter("maxlenght",function(o){return o.substring(0,33)});var compShowThumbail={delimiters:["[[","]]"],props:["show"],template:'<div class="col-sm-6 col-md-3" @click="workinprogress"><div class="thumbnail show-box"><img :src="show.ItunesImage" alt="..."><div class="caption"><br><ul class="list-inline show-box-icons"><li><span class="glyphicon glyphicon glyphicon-alert col-md-4" style="color: #a94442;" title = "Backup is not implemented yet"></span></li><li><span class="glyphicon glyphicon glyphicon-cloud-download col-md-4" title="Download Show"></span></li><li><span class="glyphicon glyphicon glyphicon-trash col-md-4" title="Delete Show"></span></li></ul></div></div></div>',methods:{workinprogress:function(){console.log("CLICKED"),eventHub.$emit("displaySuccess","Work in progress... ;)")}}},app=new Vue({el:"#main",delimiters:["[[","]]"],components:{"show-thumbail":compShowThumbail},data:function(){return{feedURL:"",shows:{}}},created:function(){var o=this;axios.get("/aj/user/shows").then(function(s){s.data.Ok?o.shows=s.data.Shows:eventHub.$emit("displayError",s.data.Msg)}).catch(function(o){eventHub.$emit("displayError","Ooops something wrong happened :(")})},methods:{importShow:function(){""==this.feedURL&&(console.log("emit"),eventHub.$emit("displayError","You must specified a feed URL"));var o=this;axios.post("/ajimportshow",{feedURL:o.feedURL}).then(function(s){s.data.Ok?(console.log(s.data.Show),console.log(o.shows),o.shows.unshift(s.data.Show)):eventHub.$emit("displayError",s.data.Msg)}).catch(function(o){eventHub.$emit("displayError","Ooops something wrong happened :(")})}}});