Vue.filter("maxlenght",function(e){return e.substring(0,33)});var compShowThumbail={delimiters:["[[","]]"],props:["show"],template:'<div class="col-sm-6 col-md-3"><div class="thumbnail show-box"><img :src="show.ItunesImage" alt="..."><div class="caption"><div class="text-center"><h3>[[ show.Title | maxlenght ]]</h3></div><p>Status: OK<br> Last sync: 05/05/2017 19:23:55</p></div></div></div>'},app=new Vue({el:"#main",delimiters:["[[","]]"],components:{"show-thumbail":compShowThumbail},data:function(){return{feedURL:"",shows:{}}},created:function(){var e=this;axios.get("/aj/user/shows").then(function(t){console.log(t),t.data.Ok?e.shows=t.data.Shows:eventHub.$emit("displayError",t.data.Msg)}).catch(function(e){eventHub.$emit("displayError","Ooops something wrong happened :(")})},methods:{importShow:function(){""==this.feedURL&&(console.log("emit"),eventHub.$emit("displayError","You must specified a feed URL"));var e=this;axios.post("/ajimportshow",{feedURL:e.feedURL}).then(function(t){t.data.Ok?(console.log(t.data.Show),console.log(e.shows),e.shows.unshift(t.data.Show)):eventHub.$emit("displayError",t.data.Msg)}).catch(function(e){eventHub.$emit("displayError","Ooops something wrong happened :(")})}}});